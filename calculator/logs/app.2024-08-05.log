2024-08-02 17:46:47 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 7028 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-02 17:46:47 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-02 17:46:47 - No active profile set, falling back to 1 default profile: "default"
2024-08-02 17:46:48 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-02 17:46:51 - Eureka HTTP Client uses RestTemplate.
2024-08-02 17:46:51 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-02 17:46:51 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-02 17:46:51 - Setting initial instance status as: STARTING
2024-08-02 17:46:51 - Initializing Eureka in region us-east-1
2024-08-02 17:46:51 - Resolving eureka endpoints via configuration
2024-08-02 17:46:51 - Disable delta property : false
2024-08-02 17:46:51 - Single vip registry refresh property : null
2024-08-02 17:46:51 - Force full registry fetch : false
2024-08-02 17:46:51 - Application is null : false
2024-08-02 17:46:51 - Registered Applications size is zero : true
2024-08-02 17:46:51 - Application version is -1: true
2024-08-02 17:46:51 - Getting all instance registry info from the eureka server
2024-08-02 17:46:51 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$568aefe4.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 134 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 147 more

2024-08-02 17:46:51 - Request execution failed with message: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:46:51 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$568aefe4.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2024-08-02 17:46:51 - Initial registry fetch from primary servers failed
2024-08-02 17:46:51 - Using default backup registry implementation which does not do anything.
2024-08-02 17:46:51 - Initial registry fetch from backup servers failed
2024-08-02 17:46:51 - Starting heartbeat executor: renew interval is: 30
2024-08-02 17:46:51 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-02 17:46:51 - Discovery Client initialized at timestamp 1722610011883 with initial instances count: 0
2024-08-02 17:46:51 - Registering application CALCULATOR with eureka with status UP
2024-08-02 17:46:51 - Saw local status change event StatusChangeEvent [timestamp=1722610011889, current=UP, previous=STARTING]
2024-08-02 17:46:51 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:46:51 - Started CalculatorServiceTest in 4.624 seconds (JVM running for 6.219)
2024-08-02 17:46:51 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-02 17:46:51 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:46:51 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:46:51 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:46:51 - Начало генерации List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-02 17:46:51 - Полученный monthlyPayment: 9263.4505916224
2024-08-02 17:46:51 - Полученный psk: 111161.4070994688
2024-08-02 17:46:51 - Полученный monthlyPayment: 9167.9992906229
2024-08-02 17:46:51 - Полученный psk: 110015.9914874748
2024-08-02 17:46:51 - Полученный monthlyPayment: 9120.4752097359
2024-08-02 17:46:51 - Полученный psk: 109445.7025168308
2024-08-02 17:46:51 - Полученный monthlyPayment: 9025.8312345157
2024-08-02 17:46:51 - Полученный psk: 108309.9748141884
2024-08-02 17:46:51 - Сгенерированный List<LoanOfferDto>: [LoanOfferDto(statementId=ed1bddcc-3e8c-49a8-8289-d5fee21808c0, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=49b64355-85e1-498d-a30e-476a709e37ca, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=fe437cec-5d78-4ed6-952c-08a9c73e7bca, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=f1104b43-11eb-4fd6-aa3c-437c510c7680, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-02 17:46:51 - Завершена генерация List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-02 17:46:51 - Начало генерации CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:46:51 - Полученный monthlyPayment: 9025.8312345157
2024-08-02 17:46:51 - Полученный psk: 108309.9748141884
2024-08-02 17:46:51 - Полученный List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-02, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-02, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-02, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-02, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-02, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-02, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-02, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-02, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-02, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-02, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-02, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-02, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-02 17:46:51 - Сгенерированный CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-02, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-02, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-02, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-02, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-02, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-02, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-02, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-02, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-02, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-02, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-02, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-02, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-02 17:46:51 - Завершена генерация CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:46:51 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-02 17:46:51 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-02 17:46:51 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-02 17:46:51 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-02 17:46:51 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@28befd62, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10f60e36, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@8ad182c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7e84af34, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@218e186b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@12925d2, org.springframework.test.context.event.EventPublishingTestExecutionListener@612531a3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3a83cfbc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6b9fc5c7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@23d07ad3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6b30ff23, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4fea23d6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5ace6611]
2024-08-02 17:46:52 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 7028 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-02 17:46:52 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-02 17:46:52 - No active profile set, falling back to 1 default profile: "default"
2024-08-02 17:46:52 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-02 17:46:53 - Eureka HTTP Client uses RestTemplate.
2024-08-02 17:46:53 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-02 17:46:53 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-02 17:46:53 - Setting initial instance status as: STARTING
2024-08-02 17:46:53 - Initializing Eureka in region us-east-1
2024-08-02 17:46:53 - Resolving eureka endpoints via configuration
2024-08-02 17:46:53 - Disable delta property : false
2024-08-02 17:46:53 - Single vip registry refresh property : null
2024-08-02 17:46:53 - Force full registry fetch : false
2024-08-02 17:46:53 - Application is null : false
2024-08-02 17:46:53 - Registered Applications size is zero : true
2024-08-02 17:46:53 - Application version is -1: true
2024-08-02 17:46:53 - Getting all instance registry info from the eureka server
2024-08-02 17:46:53 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$568aefe4.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 134 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 147 more

2024-08-02 17:46:53 - Request execution failed with message: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:46:53 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$568aefe4.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2024-08-02 17:46:53 - Initial registry fetch from primary servers failed
2024-08-02 17:46:53 - Using default backup registry implementation which does not do anything.
2024-08-02 17:46:53 - Initial registry fetch from backup servers failed
2024-08-02 17:46:53 - Starting heartbeat executor: renew interval is: 30
2024-08-02 17:46:53 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-02 17:46:53 - Discovery Client initialized at timestamp 1722610013712 with initial instances count: 0
2024-08-02 17:46:53 - Registering application CALCULATOR with eureka with status UP
2024-08-02 17:46:53 - Saw local status change event StatusChangeEvent [timestamp=1722610013714, current=UP, previous=STARTING]
2024-08-02 17:46:53 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:46:53 - Started ScoringServiceTest in 1.729 seconds (JVM running for 8.03)
2024-08-02 17:46:53 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-02 17:46:53 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:46:53 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:46:53 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:46:53 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:46:53 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:46:53 - Скоринг успешно завершён для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:46:53 - Результирующая ставка: 0.10
2024-08-02 17:46:54 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-02 17:46:54 - Saw local status change event StatusChangeEvent [timestamp=1722610014951, current=DOWN, previous=UP]
2024-08-02 17:46:54 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:46:54 - Shutting down DiscoveryClient ...
2024-08-02 17:46:54 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-02 17:46:54 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:46:54 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:46:54 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:46:54 - Unregistering ...
2024-08-02 17:46:54 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 39 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 52 more

2024-08-02 17:46:54 - Request execution failed with message: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:46:54 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:46:54 - Completed shut down of DiscoveryClient
2024-08-02 17:46:54 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-02 17:46:54 - Saw local status change event StatusChangeEvent [timestamp=1722610014972, current=DOWN, previous=UP]
2024-08-02 17:46:54 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:46:54 - Shutting down DiscoveryClient ...
2024-08-02 17:46:54 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-02 17:46:54 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:46:54 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:46:54 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:46:54 - Unregistering ...
2024-08-02 17:46:54 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 39 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 52 more

2024-08-02 17:46:54 - Request execution failed with message: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:46:54 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:46:54 - Completed shut down of DiscoveryClient
2024-08-02 17:49:52 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 13640 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-02 17:49:52 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-02 17:49:52 - No active profile set, falling back to 1 default profile: "default"
2024-08-02 17:49:53 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-02 17:49:55 - Eureka HTTP Client uses RestTemplate.
2024-08-02 17:49:55 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-02 17:49:55 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-02 17:49:55 - Setting initial instance status as: STARTING
2024-08-02 17:49:55 - Initializing Eureka in region us-east-1
2024-08-02 17:49:55 - Resolving eureka endpoints via configuration
2024-08-02 17:49:55 - Disable delta property : false
2024-08-02 17:49:55 - Single vip registry refresh property : null
2024-08-02 17:49:55 - Force full registry fetch : false
2024-08-02 17:49:55 - Application is null : false
2024-08-02 17:49:55 - Registered Applications size is zero : true
2024-08-02 17:49:55 - Application version is -1: true
2024-08-02 17:49:55 - Getting all instance registry info from the eureka server
2024-08-02 17:49:55 - The response status is 200
2024-08-02 17:49:55 - Starting heartbeat executor: renew interval is: 30
2024-08-02 17:49:55 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-02 17:49:55 - Discovery Client initialized at timestamp 1722610195921 with initial instances count: 0
2024-08-02 17:49:55 - Registering application CALCULATOR with eureka with status UP
2024-08-02 17:49:55 - Saw local status change event StatusChangeEvent [timestamp=1722610195926, current=UP, previous=STARTING]
2024-08-02 17:49:55 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:49:55 - Started CalculatorServiceTest in 4.152 seconds (JVM running for 5.544)
2024-08-02 17:49:55 - Начало генерации List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-02 17:49:55 - Полученный monthlyPayment: 9263.4505916224
2024-08-02 17:49:55 - Полученный psk: 111161.4070994688
2024-08-02 17:49:55 - Полученный monthlyPayment: 9167.9992906229
2024-08-02 17:49:55 - Полученный psk: 110015.9914874748
2024-08-02 17:49:55 - Полученный monthlyPayment: 9120.4752097359
2024-08-02 17:49:55 - Полученный psk: 109445.7025168308
2024-08-02 17:49:55 - Полученный monthlyPayment: 9025.8312345157
2024-08-02 17:49:55 - Полученный psk: 108309.9748141884
2024-08-02 17:49:55 - Сгенерированный List<LoanOfferDto>: [LoanOfferDto(statementId=9a3934e6-1d6c-4b74-b563-07fabf6d65c2, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=627da6be-aeb4-4cc1-bac4-6733639caa58, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=b8dc5447-0186-460e-993f-21def6e21303, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=97e33546-d51d-471e-8d1b-1515080cd069, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-02 17:49:55 - Завершена генерация List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-02 17:49:55 - Начало генерации CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:49:55 - Полученный monthlyPayment: 9025.8312345157
2024-08-02 17:49:55 - Полученный psk: 108309.9748141884
2024-08-02 17:49:56 - Полученный List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-02, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-02, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-02, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-02, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-02, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-02, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-02, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-02, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-02, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-02, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-02, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-02, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-02 17:49:56 - Сгенерированный CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-02, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-02, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-02, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-02, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-02, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-02, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-02, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-02, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-02, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-02, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-02, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-02, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-02 17:49:56 - Завершена генерация CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:49:56 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:49:56 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-02 17:49:56 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-02 17:49:56 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-02 17:49:56 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-02 17:49:56 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5b78a946, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@37c762aa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4c438f66, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@13087c75, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@da4c5cb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1fa24e7, org.springframework.test.context.event.EventPublishingTestExecutionListener@5192b301, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1a99692, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2a0881f1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7a85454b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3ecbfba1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@739be7ec, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1df2e767]
2024-08-02 17:49:56 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 13640 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-02 17:49:56 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-02 17:49:56 - No active profile set, falling back to 1 default profile: "default"
2024-08-02 17:49:56 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-02 17:49:57 - Eureka HTTP Client uses RestTemplate.
2024-08-02 17:49:57 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-02 17:49:57 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-02 17:49:57 - Setting initial instance status as: STARTING
2024-08-02 17:49:57 - Initializing Eureka in region us-east-1
2024-08-02 17:49:57 - Resolving eureka endpoints via configuration
2024-08-02 17:49:57 - Disable delta property : false
2024-08-02 17:49:57 - Single vip registry refresh property : null
2024-08-02 17:49:57 - Force full registry fetch : false
2024-08-02 17:49:57 - Application is null : false
2024-08-02 17:49:57 - Registered Applications size is zero : true
2024-08-02 17:49:57 - Application version is -1: true
2024-08-02 17:49:57 - Getting all instance registry info from the eureka server
2024-08-02 17:49:57 - The response status is 200
2024-08-02 17:49:57 - Starting heartbeat executor: renew interval is: 30
2024-08-02 17:49:57 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-02 17:49:57 - Discovery Client initialized at timestamp 1722610197381 with initial instances count: 0
2024-08-02 17:49:57 - Registering application CALCULATOR with eureka with status UP
2024-08-02 17:49:57 - Saw local status change event StatusChangeEvent [timestamp=1722610197384, current=UP, previous=STARTING]
2024-08-02 17:49:57 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:49:57 - Started ScoringServiceTest in 1.372 seconds (JVM running for 6.991)
2024-08-02 17:49:57 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:49:57 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:49:57 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:49:57 - Скоринг успешно завершён для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:49:57 - Результирующая ставка: 0.10
2024-08-02 17:49:57 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-02 17:49:57 - Saw local status change event StatusChangeEvent [timestamp=1722610197483, current=DOWN, previous=UP]
2024-08-02 17:49:57 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:49:57 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:49:57 - Shutting down DiscoveryClient ...
2024-08-02 17:50:00 - Unregistering ...
2024-08-02 17:50:00 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-02 17:50:00 - Completed shut down of DiscoveryClient
2024-08-02 17:50:00 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-02 17:50:00 - Saw local status change event StatusChangeEvent [timestamp=1722610200516, current=DOWN, previous=UP]
2024-08-02 17:50:00 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:50:00 - Shutting down DiscoveryClient ...
2024-08-02 17:50:00 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:50:00 - Unregistering ...
2024-08-02 17:50:00 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-02 17:50:00 - Completed shut down of DiscoveryClient
2024-08-02 17:53:10 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 19280 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-02 17:53:10 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-02 17:53:10 - No active profile set, falling back to 1 default profile: "default"
2024-08-02 17:53:11 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-02 17:53:13 - Eureka HTTP Client uses RestTemplate.
2024-08-02 17:53:13 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-02 17:53:13 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-02 17:53:13 - Setting initial instance status as: STARTING
2024-08-02 17:53:14 - Initializing Eureka in region us-east-1
2024-08-02 17:53:14 - Resolving eureka endpoints via configuration
2024-08-02 17:53:14 - Disable delta property : false
2024-08-02 17:53:14 - Single vip registry refresh property : null
2024-08-02 17:53:14 - Force full registry fetch : false
2024-08-02 17:53:14 - Application is null : false
2024-08-02 17:53:14 - Registered Applications size is zero : true
2024-08-02 17:53:14 - Application version is -1: true
2024-08-02 17:53:14 - Getting all instance registry info from the eureka server
2024-08-02 17:53:14 - The response status is 200
2024-08-02 17:53:14 - Starting heartbeat executor: renew interval is: 30
2024-08-02 17:53:14 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-02 17:53:14 - Discovery Client initialized at timestamp 1722610394437 with initial instances count: 1
2024-08-02 17:53:14 - Registering application CALCULATOR with eureka with status UP
2024-08-02 17:53:14 - Saw local status change event StatusChangeEvent [timestamp=1722610394444, current=UP, previous=STARTING]
2024-08-02 17:53:14 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:53:14 - Started CalculatorServiceTest in 4.578 seconds (JVM running for 6.048)
2024-08-02 17:53:14 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:53:14 - Начало генерации List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-02 17:53:14 - Полученный monthlyPayment: 9263.4505916224
2024-08-02 17:53:14 - Полученный psk: 111161.4070994688
2024-08-02 17:53:14 - Полученный monthlyPayment: 9167.9992906229
2024-08-02 17:53:14 - Полученный psk: 110015.9914874748
2024-08-02 17:53:14 - Полученный monthlyPayment: 9120.4752097359
2024-08-02 17:53:14 - Полученный psk: 109445.7025168308
2024-08-02 17:53:14 - Полученный monthlyPayment: 9025.8312345157
2024-08-02 17:53:14 - Полученный psk: 108309.9748141884
2024-08-02 17:53:14 - Сгенерированный List<LoanOfferDto>: [LoanOfferDto(statementId=3434a550-b124-45a3-8b41-2e4c0db491b4, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=36a5edc4-9a49-4083-aeae-c5cfe497156e, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=1be38726-f3eb-4ac8-84c3-d4f4850019b4, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=98f4f388-44aa-4b2c-b8d8-7bb710e2759d, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-02 17:53:14 - Завершена генерация List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-02 17:53:14 - Начало генерации CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:53:14 - Полученный monthlyPayment: 9025.8312345157
2024-08-02 17:53:14 - Полученный psk: 108309.9748141884
2024-08-02 17:53:14 - Полученный List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-02, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-02, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-02, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-02, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-02, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-02, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-02, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-02, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-02, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-02, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-02, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-02, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-02 17:53:14 - Сгенерированный CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-02, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-02, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-02, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-02, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-02, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-02, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-02, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-02, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-02, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-02, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-02, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-02, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-02 17:53:14 - Завершена генерация CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:53:14 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-02 17:53:14 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-02 17:53:14 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-02 17:53:14 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-02 17:53:14 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1df2e767, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4d0d568f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2c7aba7c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@729c98, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a319a2e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2daf0cc9, org.springframework.test.context.event.EventPublishingTestExecutionListener@54fffa5a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@407d2a01, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@461b38ca, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1387bd84, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3881b884, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1185b0b7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@ec70725]
2024-08-02 17:53:14 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 19280 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-02 17:53:14 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-02 17:53:14 - No active profile set, falling back to 1 default profile: "default"
2024-08-02 17:53:14 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-02 17:53:15 - Eureka HTTP Client uses RestTemplate.
2024-08-02 17:53:15 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-02 17:53:15 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-02 17:53:16 - Setting initial instance status as: STARTING
2024-08-02 17:53:16 - Initializing Eureka in region us-east-1
2024-08-02 17:53:16 - Resolving eureka endpoints via configuration
2024-08-02 17:53:16 - Disable delta property : false
2024-08-02 17:53:16 - Single vip registry refresh property : null
2024-08-02 17:53:16 - Force full registry fetch : false
2024-08-02 17:53:16 - Application is null : false
2024-08-02 17:53:16 - Registered Applications size is zero : true
2024-08-02 17:53:16 - Application version is -1: true
2024-08-02 17:53:16 - Getting all instance registry info from the eureka server
2024-08-02 17:53:16 - The response status is 200
2024-08-02 17:53:16 - Starting heartbeat executor: renew interval is: 30
2024-08-02 17:53:16 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-02 17:53:16 - Discovery Client initialized at timestamp 1722610396063 with initial instances count: 1
2024-08-02 17:53:16 - Registering application CALCULATOR with eureka with status UP
2024-08-02 17:53:16 - Saw local status change event StatusChangeEvent [timestamp=1722610396067, current=UP, previous=STARTING]
2024-08-02 17:53:16 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:53:16 - Started ScoringServiceTest in 1.517 seconds (JVM running for 7.656)
2024-08-02 17:53:16 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:53:16 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:53:16 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:53:16 - Скоринг успешно завершён для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:53:16 - Результирующая ставка: 0.10
2024-08-02 17:53:16 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-02 17:53:16 - Saw local status change event StatusChangeEvent [timestamp=1722610396187, current=DOWN, previous=UP]
2024-08-02 17:53:16 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:53:16 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:53:16 - Shutting down DiscoveryClient ...
2024-08-02 17:53:19 - Unregistering ...
2024-08-02 17:53:19 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-02 17:53:19 - Completed shut down of DiscoveryClient
2024-08-02 17:53:19 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-02 17:53:19 - Saw local status change event StatusChangeEvent [timestamp=1722610399218, current=DOWN, previous=UP]
2024-08-02 17:53:19 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:53:19 - Shutting down DiscoveryClient ...
2024-08-02 17:53:19 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:53:19 - Unregistering ...
2024-08-02 17:53:19 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-02 17:53:19 - Completed shut down of DiscoveryClient
2024-08-02 17:56:37 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 5480 (started by РљРёСЂРёР»Р» in F:\Work\neoflex-bank-prototype\calculator)
2024-08-02 17:56:37 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-02 17:56:37 - No active profile set, falling back to 1 default profile: "default"
2024-08-02 17:56:38 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-02 17:56:40 - Eureka HTTP Client uses RestTemplate.
2024-08-02 17:56:40 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-02 17:56:40 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-02 17:56:40 - Setting initial instance status as: STARTING
2024-08-02 17:56:40 - Initializing Eureka in region us-east-1
2024-08-02 17:56:40 - Resolving eureka endpoints via configuration
2024-08-02 17:56:40 - Disable delta property : false
2024-08-02 17:56:40 - Single vip registry refresh property : null
2024-08-02 17:56:40 - Force full registry fetch : false
2024-08-02 17:56:40 - Application is null : false
2024-08-02 17:56:40 - Registered Applications size is zero : true
2024-08-02 17:56:40 - Application version is -1: true
2024-08-02 17:56:40 - Getting all instance registry info from the eureka server
2024-08-02 17:56:41 - The response status is 200
2024-08-02 17:56:41 - Starting heartbeat executor: renew interval is: 30
2024-08-02 17:56:41 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-02 17:56:41 - Discovery Client initialized at timestamp 1722610601148 with initial instances count: 1
2024-08-02 17:56:41 - Registering application CALCULATOR with eureka with status UP
2024-08-02 17:56:41 - Saw local status change event StatusChangeEvent [timestamp=1722610601153, current=UP, previous=STARTING]
2024-08-02 17:56:41 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:56:41 - Started CalculatorServiceTest in 4.156 seconds (JVM running for 5.786)
2024-08-02 17:56:41 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:56:41 - РќР°С‡Р°Р»Рѕ РіРµРЅРµСЂР°С†РёРё List<LoanOfferDto> РїРѕ Р·Р°РїСЂРѕСЃСѓ: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ monthlyPayment: 9263.4505916224
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ psk: 111161.4070994688
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ monthlyPayment: 9167.9992906229
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ psk: 110015.9914874748
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ monthlyPayment: 9120.4752097359
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ psk: 109445.7025168308
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ monthlyPayment: 9025.8312345157
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ psk: 108309.9748141884
2024-08-02 17:56:41 - РЎРіРµРЅРµСЂРёСЂРѕРІР°РЅРЅС‹Р№ List<LoanOfferDto>: [LoanOfferDto(statementId=7a21648e-7f4b-455d-a3fd-94e45cb65fd5, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=eb1991d9-be76-496c-b57e-fb2130d36858, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=cfa7f153-7e9e-4c59-aae2-50df265f1895, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=01fd2b0f-5814-4e4e-867b-c81c3c0a8fba, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-02 17:56:41 - Р—Р°РІРµСЂС€РµРЅР° РіРµРЅРµСЂР°С†РёСЏ List<LoanOfferDto> РїРѕ Р·Р°РїСЂРѕСЃСѓ: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-02 17:56:41 - РќР°С‡Р°Р»Рѕ РіРµРЅРµСЂР°С†РёРё CreditDto РїРѕ Р·Р°РїСЂРѕСЃСѓ: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ monthlyPayment: 9025.8312345157
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ psk: 108309.9748141884
2024-08-02 17:56:41 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-02, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-02, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-02, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-02, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-02, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-02, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-02, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-02, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-02, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-02, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-02, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-02, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-02 17:56:41 - РЎРіРµРЅРµСЂРёСЂРѕРІР°РЅРЅС‹Р№ CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-02, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-02, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-02, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-02, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-02, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-02, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-02, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-02, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-02, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-02, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-02, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-02, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-02 17:56:41 - Р—Р°РІРµСЂС€РµРЅР° РіРµРЅРµСЂР°С†РёСЏ CreditDto РїРѕ Р·Р°РїСЂРѕСЃСѓ: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:56:41 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-02 17:56:41 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-02 17:56:41 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-02 17:56:41 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-02 17:56:41 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6b30ff23, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4fea23d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5ace6611, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7a689979, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@164db8f0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@8a7cd7c, org.springframework.test.context.event.EventPublishingTestExecutionListener@21f0cc97, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1f6d3a81, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@641c8ba4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@52667676, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@75559cd9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@39a09c0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3dbf3bc]
2024-08-02 17:56:41 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 5480 (started by РљРёСЂРёР»Р» in F:\Work\neoflex-bank-prototype\calculator)
2024-08-02 17:56:41 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-02 17:56:41 - No active profile set, falling back to 1 default profile: "default"
2024-08-02 17:56:41 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-02 17:56:42 - Eureka HTTP Client uses RestTemplate.
2024-08-02 17:56:42 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-02 17:56:42 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-02 17:56:42 - Setting initial instance status as: STARTING
2024-08-02 17:56:42 - Initializing Eureka in region us-east-1
2024-08-02 17:56:42 - Resolving eureka endpoints via configuration
2024-08-02 17:56:42 - Disable delta property : false
2024-08-02 17:56:42 - Single vip registry refresh property : null
2024-08-02 17:56:42 - Force full registry fetch : false
2024-08-02 17:56:42 - Application is null : false
2024-08-02 17:56:42 - Registered Applications size is zero : true
2024-08-02 17:56:42 - Application version is -1: true
2024-08-02 17:56:42 - Getting all instance registry info from the eureka server
2024-08-02 17:56:42 - The response status is 200
2024-08-02 17:56:42 - Starting heartbeat executor: renew interval is: 30
2024-08-02 17:56:42 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-02 17:56:42 - Discovery Client initialized at timestamp 1722610602703 with initial instances count: 1
2024-08-02 17:56:42 - Registering application CALCULATOR with eureka with status UP
2024-08-02 17:56:42 - Saw local status change event StatusChangeEvent [timestamp=1722610602705, current=UP, previous=STARTING]
2024-08-02 17:56:42 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:56:42 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:56:42 - Started ScoringServiceTest in 1.439 seconds (JVM running for 7.328)
2024-08-02 17:56:42 - РќР°С‡Р°Р»Рѕ СЃРєРѕСЂРёРЅРіР° РґР»СЏ Р·Р°РїСЂРѕСЃР°: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:56:42 - РќР°С‡Р°Р»Рѕ СЃРєРѕСЂРёРЅРіР° РґР»СЏ Р·Р°РїСЂРѕСЃР°: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:56:42 - РЎРєРѕСЂРёРЅРі СѓСЃРїРµС€РЅРѕ Р·Р°РІРµСЂС€С‘РЅ РґР»СЏ Р·Р°РїСЂРѕСЃР°: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:56:42 - Р РµР·СѓР»СЊС‚РёСЂСѓСЋС‰Р°СЏ СЃС‚Р°РІРєР°: 0.10
2024-08-02 17:56:42 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-02 17:56:42 - Saw local status change event StatusChangeEvent [timestamp=1722610602733, current=DOWN, previous=UP]
2024-08-02 17:56:42 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:56:42 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:56:42 - Shutting down DiscoveryClient ...
2024-08-02 17:56:45 - Unregistering ...
2024-08-02 17:56:45 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-02 17:56:45 - Completed shut down of DiscoveryClient
2024-08-02 17:56:45 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-02 17:56:45 - Saw local status change event StatusChangeEvent [timestamp=1722610605759, current=DOWN, previous=UP]
2024-08-02 17:56:45 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:56:45 - Shutting down DiscoveryClient ...
2024-08-02 17:56:45 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-02 17:56:45 - Unregistering ...
2024-08-02 17:56:45 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-02 17:56:45 - Completed shut down of DiscoveryClient
2024-08-02 17:59:52 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 4604 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-02 17:59:52 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-02 17:59:52 - No active profile set, falling back to 1 default profile: "default"
2024-08-02 17:59:53 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-02 17:59:55 - Eureka HTTP Client uses RestTemplate.
2024-08-02 17:59:55 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-02 17:59:55 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-02 17:59:55 - Setting initial instance status as: STARTING
2024-08-02 17:59:55 - Initializing Eureka in region us-east-1
2024-08-02 17:59:55 - Resolving eureka endpoints via configuration
2024-08-02 17:59:55 - Disable delta property : false
2024-08-02 17:59:55 - Single vip registry refresh property : null
2024-08-02 17:59:55 - Force full registry fetch : false
2024-08-02 17:59:55 - Application is null : false
2024-08-02 17:59:55 - Registered Applications size is zero : true
2024-08-02 17:59:55 - Application version is -1: true
2024-08-02 17:59:55 - Getting all instance registry info from the eureka server
2024-08-02 17:59:56 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$e96c3e6b.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 134 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 147 more

2024-08-02 17:59:56 - Request execution failed with message: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:59:56 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$e96c3e6b.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2024-08-02 17:59:56 - Initial registry fetch from primary servers failed
2024-08-02 17:59:56 - Using default backup registry implementation which does not do anything.
2024-08-02 17:59:56 - Initial registry fetch from backup servers failed
2024-08-02 17:59:56 - Starting heartbeat executor: renew interval is: 30
2024-08-02 17:59:56 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-02 17:59:56 - Discovery Client initialized at timestamp 1722610796081 with initial instances count: 0
2024-08-02 17:59:56 - Registering application CALCULATOR with eureka with status UP
2024-08-02 17:59:56 - Saw local status change event StatusChangeEvent [timestamp=1722610796088, current=UP, previous=STARTING]
2024-08-02 17:59:56 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:59:56 - Started CalculatorServiceTest in 4.163 seconds (JVM running for 5.654)
2024-08-02 17:59:56 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-02 17:59:56 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:59:56 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:59:56 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:59:56 - Начало генерации List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-02 17:59:56 - Полученный monthlyPayment: 9263.4505916224
2024-08-02 17:59:56 - Полученный psk: 111161.4070994688
2024-08-02 17:59:56 - Полученный monthlyPayment: 9167.9992906229
2024-08-02 17:59:56 - Полученный psk: 110015.9914874748
2024-08-02 17:59:56 - Полученный monthlyPayment: 9120.4752097359
2024-08-02 17:59:56 - Полученный psk: 109445.7025168308
2024-08-02 17:59:56 - Полученный monthlyPayment: 9025.8312345157
2024-08-02 17:59:56 - Полученный psk: 108309.9748141884
2024-08-02 17:59:56 - Сгенерированный List<LoanOfferDto>: [LoanOfferDto(statementId=5636f4d7-e283-4395-ad0e-292166abf664, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=4865baab-16e5-4537-8252-433c9a3a38f2, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=a5f83012-2d95-419c-8ca4-f854225c9978, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=f0569b5e-a9c4-4ae1-8db1-24c118106ee7, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-02 17:59:56 - Завершена генерация List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-02 17:59:56 - Начало генерации CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:59:56 - Полученный monthlyPayment: 9025.8312345157
2024-08-02 17:59:56 - Полученный psk: 108309.9748141884
2024-08-02 17:59:56 - Полученный List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-02, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-02, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-02, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-02, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-02, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-02, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-02, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-02, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-02, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-02, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-02, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-02, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-02 17:59:56 - Сгенерированный CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-02, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-02, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-02, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-02, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-02, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-02, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-02, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-02, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-02, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-02, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-02, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-02, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-02 17:59:56 - Завершена генерация CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:59:56 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-02 17:59:56 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-02 17:59:56 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-02 17:59:56 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-02 17:59:56 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@28941a68, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@24ce5d4c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@24fc9aa5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7369208e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7ba623d1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2d5435d4, org.springframework.test.context.event.EventPublishingTestExecutionListener@6dbdbb69, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@576a8b00, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d988297, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@116efe65, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@118879d2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1239c268, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4bec6682]
2024-08-02 17:59:56 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 4604 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-02 17:59:56 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-02 17:59:56 - No active profile set, falling back to 1 default profile: "default"
2024-08-02 17:59:56 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-02 17:59:57 - Eureka HTTP Client uses RestTemplate.
2024-08-02 17:59:57 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-02 17:59:57 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-02 17:59:57 - Setting initial instance status as: STARTING
2024-08-02 17:59:57 - Initializing Eureka in region us-east-1
2024-08-02 17:59:57 - Resolving eureka endpoints via configuration
2024-08-02 17:59:57 - Disable delta property : false
2024-08-02 17:59:57 - Single vip registry refresh property : null
2024-08-02 17:59:57 - Force full registry fetch : false
2024-08-02 17:59:57 - Application is null : false
2024-08-02 17:59:57 - Registered Applications size is zero : true
2024-08-02 17:59:57 - Application version is -1: true
2024-08-02 17:59:57 - Getting all instance registry info from the eureka server
2024-08-02 17:59:57 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$e96c3e6b.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 134 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 147 more

2024-08-02 17:59:57 - Request execution failed with message: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:59:57 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$e96c3e6b.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2024-08-02 17:59:57 - Initial registry fetch from primary servers failed
2024-08-02 17:59:57 - Using default backup registry implementation which does not do anything.
2024-08-02 17:59:57 - Initial registry fetch from backup servers failed
2024-08-02 17:59:57 - Starting heartbeat executor: renew interval is: 30
2024-08-02 17:59:57 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-02 17:59:57 - Discovery Client initialized at timestamp 1722610797799 with initial instances count: 0
2024-08-02 17:59:57 - Registering application CALCULATOR with eureka with status UP
2024-08-02 17:59:57 - Saw local status change event StatusChangeEvent [timestamp=1722610797801, current=UP, previous=STARTING]
2024-08-02 17:59:57 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:59:57 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-02 17:59:57 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:59:57 - Started ScoringServiceTest in 1.609 seconds (JVM running for 7.35)
2024-08-02 17:59:57 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:59:57 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:59:57 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:59:57 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:59:57 - Скоринг успешно завершён для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-02 17:59:57 - Результирующая ставка: 0.10
2024-08-02 17:59:58 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-02 17:59:58 - Saw local status change event StatusChangeEvent [timestamp=1722610798926, current=DOWN, previous=UP]
2024-08-02 17:59:58 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:59:58 - Shutting down DiscoveryClient ...
2024-08-02 17:59:58 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-02 17:59:58 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:59:58 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:59:58 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:59:58 - Unregistering ...
2024-08-02 17:59:58 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 39 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 52 more

2024-08-02 17:59:58 - Request execution failed with message: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:59:58 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:59:58 - Completed shut down of DiscoveryClient
2024-08-02 17:59:58 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-02 17:59:58 - Saw local status change event StatusChangeEvent [timestamp=1722610798946, current=DOWN, previous=UP]
2024-08-02 17:59:58 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-02 17:59:58 - Shutting down DiscoveryClient ...
2024-08-02 17:59:58 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-02 17:59:58 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:59:58 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:59:58 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:59:58 - Unregistering ...
2024-08-02 17:59:58 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 39 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 52 more

2024-08-02 17:59:58 - Request execution failed with message: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-02 17:59:58 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-02 17:59:58 - Completed shut down of DiscoveryClient
2024-08-05 04:39:18 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 7572 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:39:18 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:39:18 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:39:19 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:39:21 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:39:22 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:39:22 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:39:22 - Setting initial instance status as: STARTING
2024-08-05 04:39:22 - Initializing Eureka in region us-east-1
2024-08-05 04:39:22 - Resolving eureka endpoints via configuration
2024-08-05 04:39:22 - Disable delta property : false
2024-08-05 04:39:22 - Single vip registry refresh property : null
2024-08-05 04:39:22 - Force full registry fetch : false
2024-08-05 04:39:22 - Application is null : false
2024-08-05 04:39:22 - Registered Applications size is zero : true
2024-08-05 04:39:22 - Application version is -1: true
2024-08-05 04:39:22 - Getting all instance registry info from the eureka server
2024-08-05 04:39:23 - The response status is 200
2024-08-05 04:39:23 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:39:23 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:39:23 - Discovery Client initialized at timestamp 1722821963231 with initial instances count: 4
2024-08-05 04:39:23 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:39:23 - Saw local status change event StatusChangeEvent [timestamp=1722821963236, current=UP, previous=STARTING]
2024-08-05 04:39:23 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:39:23 - Started CalculatorServiceTest in 5.615 seconds (JVM running for 7.141)
2024-08-05 04:39:23 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:39:23 - Начало генерации List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:39:23 - Полученный monthlyPayment: 9263.4505916224
2024-08-05 04:39:23 - Полученный psk: 111161.4070994688
2024-08-05 04:39:23 - Полученный monthlyPayment: 9167.9992906229
2024-08-05 04:39:23 - Полученный psk: 110015.9914874748
2024-08-05 04:39:23 - Полученный monthlyPayment: 9120.4752097359
2024-08-05 04:39:23 - Полученный psk: 109445.7025168308
2024-08-05 04:39:23 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 04:39:23 - Полученный psk: 108309.9748141884
2024-08-05 04:39:23 - Сгенерированный List<LoanOfferDto>: [LoanOfferDto(statementId=8a951d22-4a67-4c5c-8fd1-4bf0129460c7, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=d8e5e445-3f71-413e-b673-25ec917f691c, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=0387e9fb-cc5d-485d-a5e4-53599983df54, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=da8521a5-0970-4545-843e-440720b64999, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-05 04:39:23 - Завершена генерация List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:39:23 - Начало генерации CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:39:23 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 04:39:23 - Полученный psk: 108309.9748141884
2024-08-05 04:39:23 - Полученный List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-05 04:39:23 - Сгенерированный CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-05 04:39:23 - Завершена генерация CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:39:23 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-05 04:39:23 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-05 04:39:23 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-05 04:39:23 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-05 04:39:23 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1932ad2c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4adc3951, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@52b49891, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@75973f7a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7940b729, org.springframework.test.context.support.DirtiesContextTestExecutionListener@527d1fe1, org.springframework.test.context.event.EventPublishingTestExecutionListener@24fb752f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@68dbe225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@145ef9e8, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2e667e95, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@514b247b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@66b62ebd, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5440a3a]
2024-08-05 04:39:23 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 7572 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:39:23 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:39:23 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:39:23 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:39:24 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:39:24 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:39:24 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:39:24 - Setting initial instance status as: STARTING
2024-08-05 04:39:24 - Initializing Eureka in region us-east-1
2024-08-05 04:39:24 - Resolving eureka endpoints via configuration
2024-08-05 04:39:24 - Disable delta property : false
2024-08-05 04:39:24 - Single vip registry refresh property : null
2024-08-05 04:39:24 - Force full registry fetch : false
2024-08-05 04:39:24 - Application is null : false
2024-08-05 04:39:24 - Registered Applications size is zero : true
2024-08-05 04:39:24 - Application version is -1: true
2024-08-05 04:39:24 - Getting all instance registry info from the eureka server
2024-08-05 04:39:24 - The response status is 200
2024-08-05 04:39:24 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:39:24 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:39:24 - Discovery Client initialized at timestamp 1722821964619 with initial instances count: 4
2024-08-05 04:39:24 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:39:24 - Saw local status change event StatusChangeEvent [timestamp=1722821964622, current=UP, previous=STARTING]
2024-08-05 04:39:24 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:39:24 - Started ScoringServiceTest in 1.314 seconds (JVM running for 8.518)
2024-08-05 04:39:24 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:39:24 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:39:24 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:39:24 - Скоринг успешно завершён для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:39:24 - Результирующая ставка: 0.10
2024-08-05 04:39:24 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:39:24 - Saw local status change event StatusChangeEvent [timestamp=1722821964732, current=DOWN, previous=UP]
2024-08-05 04:39:24 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:39:24 - Shutting down DiscoveryClient ...
2024-08-05 04:39:24 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:39:24 - Unregistering ...
2024-08-05 04:39:24 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:39:24 - Completed shut down of DiscoveryClient
2024-08-05 04:39:24 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:39:24 - Saw local status change event StatusChangeEvent [timestamp=1722821964750, current=DOWN, previous=UP]
2024-08-05 04:39:24 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:39:24 - Shutting down DiscoveryClient ...
2024-08-05 04:39:24 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:39:24 - Unregistering ...
2024-08-05 04:39:24 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:39:24 - Completed shut down of DiscoveryClient
2024-08-05 04:39:56 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 22264 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:39:56 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:39:56 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:39:57 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:39:59 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:39:59 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:39:59 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:40:00 - Setting initial instance status as: STARTING
2024-08-05 04:40:00 - Initializing Eureka in region us-east-1
2024-08-05 04:40:00 - Resolving eureka endpoints via configuration
2024-08-05 04:40:00 - Disable delta property : false
2024-08-05 04:40:00 - Single vip registry refresh property : null
2024-08-05 04:40:00 - Force full registry fetch : false
2024-08-05 04:40:00 - Application is null : false
2024-08-05 04:40:00 - Registered Applications size is zero : true
2024-08-05 04:40:00 - Application version is -1: true
2024-08-05 04:40:00 - Getting all instance registry info from the eureka server
2024-08-05 04:40:00 - The response status is 200
2024-08-05 04:40:00 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:40:00 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:40:00 - Discovery Client initialized at timestamp 1722822000536 with initial instances count: 4
2024-08-05 04:40:00 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:40:00 - Saw local status change event StatusChangeEvent [timestamp=1722822000544, current=UP, previous=STARTING]
2024-08-05 04:40:00 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:40:00 - Started CalculatorServiceTest in 4.381 seconds (JVM running for 5.817)
2024-08-05 04:40:00 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:40:00 - Начало генерации List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:40:00 - Полученный monthlyPayment: 9263.4505916224
2024-08-05 04:40:00 - Полученный psk: 111161.4070994688
2024-08-05 04:40:00 - Полученный monthlyPayment: 9167.9992906229
2024-08-05 04:40:00 - Полученный psk: 110015.9914874748
2024-08-05 04:40:00 - Полученный monthlyPayment: 9120.4752097359
2024-08-05 04:40:00 - Полученный psk: 109445.7025168308
2024-08-05 04:40:00 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 04:40:00 - Полученный psk: 108309.9748141884
2024-08-05 04:40:00 - Сгенерированный List<LoanOfferDto>: [LoanOfferDto(statementId=7c9dda50-3db5-45db-8aed-c8ebdbce0ebb, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=ae49a9d8-6864-4e9c-b080-451ea3b537b8, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=a9b67bc7-c385-4255-9cc5-d3c4949148f2, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=cb650e19-1944-4f3a-9458-af915956774b, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-05 04:40:00 - Завершена генерация List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:40:00 - Начало генерации CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:40:00 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 04:40:00 - Полученный psk: 108309.9748141884
2024-08-05 04:40:00 - Полученный List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-05 04:40:00 - Сгенерированный CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-05 04:40:00 - Завершена генерация CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:40:00 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-05 04:40:00 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-05 04:40:00 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-05 04:40:00 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-05 04:40:00 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68dbe225, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@145ef9e8, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2e667e95, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@514b247b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@66b62ebd, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5440a3a, org.springframework.test.context.event.EventPublishingTestExecutionListener@18cb4ed1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@10abd94f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@47bfde21, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@628f0936, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@20706e70, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6e5fba90, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@57283fac]
2024-08-05 04:40:00 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 22264 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:40:00 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:40:00 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:40:01 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:40:02 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:40:02 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:40:02 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:40:02 - Setting initial instance status as: STARTING
2024-08-05 04:40:02 - Initializing Eureka in region us-east-1
2024-08-05 04:40:02 - Resolving eureka endpoints via configuration
2024-08-05 04:40:02 - Disable delta property : false
2024-08-05 04:40:02 - Single vip registry refresh property : null
2024-08-05 04:40:02 - Force full registry fetch : false
2024-08-05 04:40:02 - Application is null : false
2024-08-05 04:40:02 - Registered Applications size is zero : true
2024-08-05 04:40:02 - Application version is -1: true
2024-08-05 04:40:02 - Getting all instance registry info from the eureka server
2024-08-05 04:40:02 - The response status is 200
2024-08-05 04:40:02 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:40:02 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:40:02 - Discovery Client initialized at timestamp 1722822002274 with initial instances count: 4
2024-08-05 04:40:02 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:40:02 - Saw local status change event StatusChangeEvent [timestamp=1722822002277, current=UP, previous=STARTING]
2024-08-05 04:40:02 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:40:02 - Started ScoringServiceTest in 1.622 seconds (JVM running for 7.536)
2024-08-05 04:40:02 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:40:02 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:40:02 - Скоринг успешно завершён для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:40:02 - Результирующая ставка: 0.10
2024-08-05 04:40:02 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:40:02 - Saw local status change event StatusChangeEvent [timestamp=1722822002403, current=DOWN, previous=UP]
2024-08-05 04:40:02 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:40:02 - Shutting down DiscoveryClient ...
2024-08-05 04:40:02 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:40:02 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:40:02 - Unregistering ...
2024-08-05 04:40:02 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:40:02 - Completed shut down of DiscoveryClient
2024-08-05 04:40:02 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:40:02 - Saw local status change event StatusChangeEvent [timestamp=1722822002488, current=DOWN, previous=UP]
2024-08-05 04:40:02 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:40:02 - Shutting down DiscoveryClient ...
2024-08-05 04:40:02 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:40:02 - Unregistering ...
2024-08-05 04:40:02 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:40:02 - Completed shut down of DiscoveryClient
2024-08-05 04:40:30 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 14452 (started by РљРёСЂРёР»Р» in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:40:30 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:40:30 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:40:31 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:40:33 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:40:34 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:40:34 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:40:34 - Setting initial instance status as: STARTING
2024-08-05 04:40:34 - Initializing Eureka in region us-east-1
2024-08-05 04:40:34 - Resolving eureka endpoints via configuration
2024-08-05 04:40:34 - Disable delta property : false
2024-08-05 04:40:34 - Single vip registry refresh property : null
2024-08-05 04:40:34 - Force full registry fetch : false
2024-08-05 04:40:34 - Application is null : false
2024-08-05 04:40:34 - Registered Applications size is zero : true
2024-08-05 04:40:34 - Application version is -1: true
2024-08-05 04:40:34 - Getting all instance registry info from the eureka server
2024-08-05 04:40:34 - The response status is 200
2024-08-05 04:40:34 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:40:34 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:40:34 - Discovery Client initialized at timestamp 1722822034567 with initial instances count: 4
2024-08-05 04:40:34 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:40:34 - Saw local status change event StatusChangeEvent [timestamp=1722822034571, current=UP, previous=STARTING]
2024-08-05 04:40:34 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:40:34 - Started CalculatorServiceTest in 4.322 seconds (JVM running for 6.06)
2024-08-05 04:40:34 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:40:34 - РќР°С‡Р°Р»Рѕ РіРµРЅРµСЂР°С†РёРё List<LoanOfferDto> РїРѕ Р·Р°РїСЂРѕСЃСѓ: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ monthlyPayment: 9263.4505916224
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ psk: 111161.4070994688
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ monthlyPayment: 9167.9992906229
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ psk: 110015.9914874748
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ monthlyPayment: 9120.4752097359
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ psk: 109445.7025168308
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ monthlyPayment: 9025.8312345157
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ psk: 108309.9748141884
2024-08-05 04:40:34 - РЎРіРµРЅРµСЂРёСЂРѕРІР°РЅРЅС‹Р№ List<LoanOfferDto>: [LoanOfferDto(statementId=83619485-0d17-4ce2-9047-5386526b6945, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=d36e2f3e-9370-4632-84aa-9d29d916a987, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=10130c11-2a56-4cd3-902c-7438e57ad269, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=3bcbe0a2-6958-49b2-beb5-64d8d98abd1f, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-05 04:40:34 - Р—Р°РІРµСЂС€РµРЅР° РіРµРЅРµСЂР°С†РёСЏ List<LoanOfferDto> РїРѕ Р·Р°РїСЂРѕСЃСѓ: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:40:34 - РќР°С‡Р°Р»Рѕ РіРµРЅРµСЂР°С†РёРё CreditDto РїРѕ Р·Р°РїСЂРѕСЃСѓ: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ monthlyPayment: 9025.8312345157
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ psk: 108309.9748141884
2024-08-05 04:40:34 - РџРѕР»СѓС‡РµРЅРЅС‹Р№ List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-05 04:40:34 - РЎРіРµРЅРµСЂРёСЂРѕРІР°РЅРЅС‹Р№ CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-05 04:40:34 - Р—Р°РІРµСЂС€РµРЅР° РіРµРЅРµСЂР°С†РёСЏ CreditDto РїРѕ Р·Р°РїСЂРѕСЃСѓ: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:40:34 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-05 04:40:34 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-05 04:40:34 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-05 04:40:34 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-05 04:40:34 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68dbe225, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@145ef9e8, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2e667e95, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@514b247b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@66b62ebd, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5440a3a, org.springframework.test.context.event.EventPublishingTestExecutionListener@18cb4ed1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@10abd94f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@47bfde21, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@628f0936, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@20706e70, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6e5fba90, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@57283fac]
2024-08-05 04:40:34 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 14452 (started by РљРёСЂРёР»Р» in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:40:34 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:40:34 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:40:34 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:40:35 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:40:35 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:40:35 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:40:36 - Setting initial instance status as: STARTING
2024-08-05 04:40:36 - Initializing Eureka in region us-east-1
2024-08-05 04:40:36 - Resolving eureka endpoints via configuration
2024-08-05 04:40:36 - Disable delta property : false
2024-08-05 04:40:36 - Single vip registry refresh property : null
2024-08-05 04:40:36 - Force full registry fetch : false
2024-08-05 04:40:36 - Application is null : false
2024-08-05 04:40:36 - Registered Applications size is zero : true
2024-08-05 04:40:36 - Application version is -1: true
2024-08-05 04:40:36 - Getting all instance registry info from the eureka server
2024-08-05 04:40:36 - The response status is 200
2024-08-05 04:40:36 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:40:36 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:40:36 - Discovery Client initialized at timestamp 1722822036041 with initial instances count: 4
2024-08-05 04:40:36 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:40:36 - Saw local status change event StatusChangeEvent [timestamp=1722822036045, current=UP, previous=STARTING]
2024-08-05 04:40:36 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:40:36 - Started ScoringServiceTest in 1.406 seconds (JVM running for 7.527)
2024-08-05 04:40:36 - РќР°С‡Р°Р»Рѕ СЃРєРѕСЂРёРЅРіР° РґР»СЏ Р·Р°РїСЂРѕСЃР°: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:40:36 - РќР°С‡Р°Р»Рѕ СЃРєРѕСЂРёРЅРіР° РґР»СЏ Р·Р°РїСЂРѕСЃР°: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:40:36 - РЎРєРѕСЂРёРЅРі СѓСЃРїРµС€РЅРѕ Р·Р°РІРµСЂС€С‘РЅ РґР»СЏ Р·Р°РїСЂРѕСЃР°: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:40:36 - Р РµР·СѓР»СЊС‚РёСЂСѓСЋС‰Р°СЏ СЃС‚Р°РІРєР°: 0.10
2024-08-05 04:40:36 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:40:36 - Saw local status change event StatusChangeEvent [timestamp=1722822036072, current=DOWN, previous=UP]
2024-08-05 04:40:36 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:40:36 - Shutting down DiscoveryClient ...
2024-08-05 04:40:36 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:40:36 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:40:36 - Unregistering ...
2024-08-05 04:40:36 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:40:36 - Completed shut down of DiscoveryClient
2024-08-05 04:40:36 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:40:36 - Saw local status change event StatusChangeEvent [timestamp=1722822036113, current=DOWN, previous=UP]
2024-08-05 04:40:36 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:40:36 - Shutting down DiscoveryClient ...
2024-08-05 04:40:36 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:40:36 - Unregistering ...
2024-08-05 04:40:36 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:40:36 - Completed shut down of DiscoveryClient
2024-08-05 04:41:55 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 2280 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:41:55 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:41:55 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:41:56 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:41:58 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:41:58 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:41:58 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:41:58 - Setting initial instance status as: STARTING
2024-08-05 04:41:58 - Initializing Eureka in region us-east-1
2024-08-05 04:41:58 - Resolving eureka endpoints via configuration
2024-08-05 04:41:58 - Disable delta property : false
2024-08-05 04:41:58 - Single vip registry refresh property : null
2024-08-05 04:41:58 - Force full registry fetch : false
2024-08-05 04:41:58 - Application is null : false
2024-08-05 04:41:58 - Registered Applications size is zero : true
2024-08-05 04:41:58 - Application version is -1: true
2024-08-05 04:41:58 - Getting all instance registry info from the eureka server
2024-08-05 04:41:59 - The response status is 200
2024-08-05 04:41:59 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:41:59 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:41:59 - Discovery Client initialized at timestamp 1722822119330 with initial instances count: 4
2024-08-05 04:41:59 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:41:59 - Saw local status change event StatusChangeEvent [timestamp=1722822119335, current=UP, previous=STARTING]
2024-08-05 04:41:59 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:41:59 - Started CalculatorServiceTest in 4.069 seconds (JVM running for 5.563)
2024-08-05 04:41:59 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:41:59 - Начало генерации List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:41:59 - Полученный monthlyPayment: 9263.4505916224
2024-08-05 04:41:59 - Полученный psk: 111161.4070994688
2024-08-05 04:41:59 - Полученный monthlyPayment: 9167.9992906229
2024-08-05 04:41:59 - Полученный psk: 110015.9914874748
2024-08-05 04:41:59 - Полученный monthlyPayment: 9120.4752097359
2024-08-05 04:41:59 - Полученный psk: 109445.7025168308
2024-08-05 04:41:59 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 04:41:59 - Полученный psk: 108309.9748141884
2024-08-05 04:41:59 - Сгенерированный List<LoanOfferDto>: [LoanOfferDto(statementId=87781632-78ce-47cc-96e0-fb48886603df, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=905a9633-d67d-423d-a5fa-a923c8eda694, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=f0b8062f-de80-4dd1-9c1f-c6a1f678c80d, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=53201302-ac30-46bc-8470-8ea86dbbbb43, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-05 04:41:59 - Завершена генерация List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:41:59 - Начало генерации CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:41:59 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 04:41:59 - Полученный psk: 108309.9748141884
2024-08-05 04:41:59 - Полученный List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-05 04:41:59 - Сгенерированный CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-05 04:41:59 - Завершена генерация CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:41:59 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-05 04:41:59 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-05 04:41:59 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-05 04:41:59 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-05 04:41:59 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f00c40e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7833407, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@66acaa54, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@60739eca, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@9ba167e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17873842, org.springframework.test.context.event.EventPublishingTestExecutionListener@147aceec, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@68838767, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@315365ef, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1f381eaf, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5df7ae0a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@293ba26c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@36dc6b9]
2024-08-05 04:41:59 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 2280 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:41:59 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:41:59 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:41:59 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:42:00 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:42:00 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:42:00 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:42:01 - Setting initial instance status as: STARTING
2024-08-05 04:42:01 - Initializing Eureka in region us-east-1
2024-08-05 04:42:01 - Resolving eureka endpoints via configuration
2024-08-05 04:42:01 - Disable delta property : false
2024-08-05 04:42:01 - Single vip registry refresh property : null
2024-08-05 04:42:01 - Force full registry fetch : false
2024-08-05 04:42:01 - Application is null : false
2024-08-05 04:42:01 - Registered Applications size is zero : true
2024-08-05 04:42:01 - Application version is -1: true
2024-08-05 04:42:01 - Getting all instance registry info from the eureka server
2024-08-05 04:42:01 - The response status is 200
2024-08-05 04:42:01 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:42:01 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:42:01 - Discovery Client initialized at timestamp 1722822121036 with initial instances count: 5
2024-08-05 04:42:01 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:42:01 - Saw local status change event StatusChangeEvent [timestamp=1722822121039, current=UP, previous=STARTING]
2024-08-05 04:42:01 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:42:01 - Started ScoringServiceTest in 1.614 seconds (JVM running for 7.256)
2024-08-05 04:42:01 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:42:01 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:42:01 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:42:01 - Скоринг успешно завершён для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:42:01 - Результирующая ставка: 0.10
2024-08-05 04:42:01 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:42:01 - Saw local status change event StatusChangeEvent [timestamp=1722822121143, current=DOWN, previous=UP]
2024-08-05 04:42:01 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:42:01 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:42:01 - Shutting down DiscoveryClient ...
2024-08-05 04:42:04 - Unregistering ...
2024-08-05 04:42:04 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:42:04 - Completed shut down of DiscoveryClient
2024-08-05 04:42:04 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:42:04 - Saw local status change event StatusChangeEvent [timestamp=1722822124185, current=DOWN, previous=UP]
2024-08-05 04:42:04 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:42:04 - Shutting down DiscoveryClient ...
2024-08-05 04:42:04 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:42:04 - Unregistering ...
2024-08-05 04:42:04 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:42:04 - Completed shut down of DiscoveryClient
2024-08-05 04:43:15 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 19460 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:43:15 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:43:15 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:43:16 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:43:18 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:43:18 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:43:18 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:43:18 - Setting initial instance status as: STARTING
2024-08-05 04:43:18 - Initializing Eureka in region us-east-1
2024-08-05 04:43:18 - Resolving eureka endpoints via configuration
2024-08-05 04:43:18 - Disable delta property : false
2024-08-05 04:43:18 - Single vip registry refresh property : null
2024-08-05 04:43:18 - Force full registry fetch : false
2024-08-05 04:43:18 - Application is null : false
2024-08-05 04:43:18 - Registered Applications size is zero : true
2024-08-05 04:43:18 - Application version is -1: true
2024-08-05 04:43:18 - Getting all instance registry info from the eureka server
2024-08-05 04:43:19 - The response status is 200
2024-08-05 04:43:19 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:43:19 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:43:19 - Discovery Client initialized at timestamp 1722822199037 with initial instances count: 4
2024-08-05 04:43:19 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:43:19 - Saw local status change event StatusChangeEvent [timestamp=1722822199042, current=UP, previous=STARTING]
2024-08-05 04:43:19 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:43:19 - Started CalculatorServiceTest in 4.095 seconds (JVM running for 5.435)
2024-08-05 04:43:19 - Начало генерации List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:43:19 - Полученный monthlyPayment: 9263.4505916224
2024-08-05 04:43:19 - Полученный psk: 111161.4070994688
2024-08-05 04:43:19 - Полученный monthlyPayment: 9167.9992906229
2024-08-05 04:43:19 - Полученный psk: 110015.9914874748
2024-08-05 04:43:19 - Полученный monthlyPayment: 9120.4752097359
2024-08-05 04:43:19 - Полученный psk: 109445.7025168308
2024-08-05 04:43:19 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 04:43:19 - Полученный psk: 108309.9748141884
2024-08-05 04:43:19 - Сгенерированный List<LoanOfferDto>: [LoanOfferDto(statementId=d9cd1bad-6255-4860-8ff0-94db05cdaa0a, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=f1456888-74e0-4f64-a7b3-438dc515d8e0, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=aa501483-7a88-4868-857b-b588d1050618, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=28ff6382-2e81-4062-8415-f07f14b1bc18, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-05 04:43:19 - Завершена генерация List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:43:19 - Начало генерации CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:43:19 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 04:43:19 - Полученный psk: 108309.9748141884
2024-08-05 04:43:19 - Полученный List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-05 04:43:19 - Сгенерированный CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-05 04:43:19 - Завершена генерация CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:43:19 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-05 04:43:19 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-05 04:43:19 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-05 04:43:19 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-05 04:43:19 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1299c874, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2adce412, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@629cf53c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6d84ab90, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3182143c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7cb38a6a, org.springframework.test.context.event.EventPublishingTestExecutionListener@7983a5d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3113595e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@109188b4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7091a016, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@14580edc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3f2a7ca0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@23e297d9]
2024-08-05 04:43:19 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 19460 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:43:19 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:43:19 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:43:19 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:43:20 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:43:20 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:43:20 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:43:20 - Setting initial instance status as: STARTING
2024-08-05 04:43:20 - Initializing Eureka in region us-east-1
2024-08-05 04:43:20 - Resolving eureka endpoints via configuration
2024-08-05 04:43:20 - Disable delta property : false
2024-08-05 04:43:20 - Single vip registry refresh property : null
2024-08-05 04:43:20 - Force full registry fetch : false
2024-08-05 04:43:20 - Application is null : false
2024-08-05 04:43:20 - Registered Applications size is zero : true
2024-08-05 04:43:20 - Application version is -1: true
2024-08-05 04:43:20 - Getting all instance registry info from the eureka server
2024-08-05 04:43:20 - The response status is 200
2024-08-05 04:43:20 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:43:20 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:43:20 - Discovery Client initialized at timestamp 1722822200763 with initial instances count: 4
2024-08-05 04:43:20 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:43:20 - Saw local status change event StatusChangeEvent [timestamp=1722822200766, current=UP, previous=STARTING]
2024-08-05 04:43:20 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:43:20 - Started ScoringServiceTest in 1.525 seconds (JVM running for 7.148)
2024-08-05 04:43:20 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:43:20 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:43:20 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:43:20 - Скоринг успешно завершён для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:43:20 - Результирующая ставка: 0.10
2024-08-05 04:43:20 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:43:20 - Saw local status change event StatusChangeEvent [timestamp=1722822200887, current=DOWN, previous=UP]
2024-08-05 04:43:20 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:43:20 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:43:20 - Shutting down DiscoveryClient ...
2024-08-05 04:43:23 - Unregistering ...
2024-08-05 04:43:23 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:43:23 - Completed shut down of DiscoveryClient
2024-08-05 04:43:23 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:43:23 - Saw local status change event StatusChangeEvent [timestamp=1722822203919, current=DOWN, previous=UP]
2024-08-05 04:43:23 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:43:23 - Shutting down DiscoveryClient ...
2024-08-05 04:43:23 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:43:23 - Unregistering ...
2024-08-05 04:43:23 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:43:23 - Completed shut down of DiscoveryClient
2024-08-05 04:46:42 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 6876 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:46:42 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:46:42 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:46:43 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:46:46 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:46:46 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:46:46 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:46:46 - Setting initial instance status as: STARTING
2024-08-05 04:46:46 - Initializing Eureka in region us-east-1
2024-08-05 04:46:46 - Resolving eureka endpoints via configuration
2024-08-05 04:46:46 - Disable delta property : false
2024-08-05 04:46:46 - Single vip registry refresh property : null
2024-08-05 04:46:46 - Force full registry fetch : false
2024-08-05 04:46:46 - Application is null : false
2024-08-05 04:46:46 - Registered Applications size is zero : true
2024-08-05 04:46:46 - Application version is -1: true
2024-08-05 04:46:46 - Getting all instance registry info from the eureka server
2024-08-05 04:46:46 - The response status is 200
2024-08-05 04:46:46 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:46:46 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:46:46 - Discovery Client initialized at timestamp 1722822406807 with initial instances count: 4
2024-08-05 04:46:46 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:46:46 - Saw local status change event StatusChangeEvent [timestamp=1722822406819, current=UP, previous=STARTING]
2024-08-05 04:46:46 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:46:46 - Started CalculatorServiceTest in 4.474 seconds (JVM running for 5.893)
2024-08-05 04:46:46 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:46:46 - Начало генерации List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:46:46 - Полученный monthlyPayment: 9263.4505916224
2024-08-05 04:46:46 - Полученный psk: 111161.4070994688
2024-08-05 04:46:46 - Полученный monthlyPayment: 9167.9992906229
2024-08-05 04:46:46 - Полученный psk: 110015.9914874748
2024-08-05 04:46:46 - Полученный monthlyPayment: 9120.4752097359
2024-08-05 04:46:46 - Полученный psk: 109445.7025168308
2024-08-05 04:46:46 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 04:46:46 - Полученный psk: 108309.9748141884
2024-08-05 04:46:46 - Сгенерированный List<LoanOfferDto>: [LoanOfferDto(statementId=4fc067b0-7ca8-4915-84e1-bf3d7913c24c, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=65745b2f-1b26-48fe-8864-e59c0b3048a0, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=6ee9cc3f-1eb0-495b-b76e-290c1879e098, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=7f07cc83-2bef-449e-9da9-ea8692a2a95c, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-05 04:46:46 - Завершена генерация List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 04:46:46 - Начало генерации CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:46:46 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 04:46:46 - Полученный psk: 108309.9748141884
2024-08-05 04:46:46 - Полученный List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-05 04:46:46 - Сгенерированный CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-05 04:46:46 - Завершена генерация CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:46:46 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-05 04:46:46 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-05 04:46:46 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-05 04:46:46 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-05 04:46:46 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7f6a6d46, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@238a7e3d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7ed5cc8c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bec566e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@47400608, org.springframework.test.context.support.DirtiesContextTestExecutionListener@374bf34b, org.springframework.test.context.event.EventPublishingTestExecutionListener@67aaf882, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6efc9d3f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@294bb6ae, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4172c967, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@71ac5723, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7bb3294c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@f391e52]
2024-08-05 04:46:47 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 6876 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 04:46:47 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 04:46:47 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 04:46:47 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 04:46:48 - Eureka HTTP Client uses RestTemplate.
2024-08-05 04:46:48 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 04:46:48 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 04:46:48 - Setting initial instance status as: STARTING
2024-08-05 04:46:48 - Initializing Eureka in region us-east-1
2024-08-05 04:46:48 - Resolving eureka endpoints via configuration
2024-08-05 04:46:48 - Disable delta property : false
2024-08-05 04:46:48 - Single vip registry refresh property : null
2024-08-05 04:46:48 - Force full registry fetch : false
2024-08-05 04:46:48 - Application is null : false
2024-08-05 04:46:48 - Registered Applications size is zero : true
2024-08-05 04:46:48 - Application version is -1: true
2024-08-05 04:46:48 - Getting all instance registry info from the eureka server
2024-08-05 04:46:48 - The response status is 200
2024-08-05 04:46:48 - Starting heartbeat executor: renew interval is: 30
2024-08-05 04:46:48 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 04:46:48 - Discovery Client initialized at timestamp 1722822408472 with initial instances count: 4
2024-08-05 04:46:48 - Registering application CALCULATOR with eureka with status UP
2024-08-05 04:46:48 - Saw local status change event StatusChangeEvent [timestamp=1722822408474, current=UP, previous=STARTING]
2024-08-05 04:46:48 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:46:48 - Started ScoringServiceTest in 1.52 seconds (JVM running for 7.532)
2024-08-05 04:46:48 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:46:48 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:46:48 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:46:48 - Скоринг успешно завершён для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 04:46:48 - Результирующая ставка: 0.10
2024-08-05 04:46:48 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:46:48 - Saw local status change event StatusChangeEvent [timestamp=1722822408580, current=DOWN, previous=UP]
2024-08-05 04:46:48 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:46:48 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:46:48 - Shutting down DiscoveryClient ...
2024-08-05 04:46:51 - Unregistering ...
2024-08-05 04:46:51 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:46:51 - Completed shut down of DiscoveryClient
2024-08-05 04:46:51 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 04:46:51 - Saw local status change event StatusChangeEvent [timestamp=1722822411626, current=DOWN, previous=UP]
2024-08-05 04:46:51 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 04:46:51 - Shutting down DiscoveryClient ...
2024-08-05 04:46:51 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration status: 204
2024-08-05 04:46:51 - Unregistering ...
2024-08-05 04:46:51 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - deregister  status: 200
2024-08-05 04:46:51 - Completed shut down of DiscoveryClient
2024-08-05 05:05:14 - Starting CalculatorServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 13424 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 05:05:14 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 05:05:14 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 05:05:15 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 05:05:17 - Eureka HTTP Client uses RestTemplate.
2024-08-05 05:05:18 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 05:05:18 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 05:05:18 - Setting initial instance status as: STARTING
2024-08-05 05:05:18 - Initializing Eureka in region us-east-1
2024-08-05 05:05:18 - Resolving eureka endpoints via configuration
2024-08-05 05:05:18 - Disable delta property : false
2024-08-05 05:05:18 - Single vip registry refresh property : null
2024-08-05 05:05:18 - Force full registry fetch : false
2024-08-05 05:05:18 - Application is null : false
2024-08-05 05:05:18 - Registered Applications size is zero : true
2024-08-05 05:05:18 - Application version is -1: true
2024-08-05 05:05:18 - Getting all instance registry info from the eureka server
2024-08-05 05:05:18 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$7c7082d2.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 134 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 147 more

2024-08-05 05:05:18 - Request execution failed with message: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-05 05:05:18 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$7c7082d2.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2024-08-05 05:05:18 - Initial registry fetch from primary servers failed
2024-08-05 05:05:18 - Using default backup registry implementation which does not do anything.
2024-08-05 05:05:18 - Initial registry fetch from backup servers failed
2024-08-05 05:05:18 - Starting heartbeat executor: renew interval is: 30
2024-08-05 05:05:18 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 05:05:18 - Discovery Client initialized at timestamp 1722823518551 with initial instances count: 0
2024-08-05 05:05:18 - Registering application CALCULATOR with eureka with status UP
2024-08-05 05:05:18 - Saw local status change event StatusChangeEvent [timestamp=1722823518558, current=UP, previous=STARTING]
2024-08-05 05:05:18 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 05:05:18 - Started CalculatorServiceTest in 4.214 seconds (JVM running for 5.544)
2024-08-05 05:05:18 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-05 05:05:18 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-05 05:05:18 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-05 05:05:18 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-05 05:05:18 - Начало генерации List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 05:05:18 - Полученный monthlyPayment: 9263.4505916224
2024-08-05 05:05:18 - Полученный psk: 111161.4070994688
2024-08-05 05:05:18 - Полученный monthlyPayment: 9167.9992906229
2024-08-05 05:05:18 - Полученный psk: 110015.9914874748
2024-08-05 05:05:18 - Полученный monthlyPayment: 9120.4752097359
2024-08-05 05:05:18 - Полученный psk: 109445.7025168308
2024-08-05 05:05:18 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 05:05:18 - Полученный psk: 108309.9748141884
2024-08-05 05:05:18 - Сгенерированный List<LoanOfferDto>: [LoanOfferDto(statementId=e508a1a2-740d-4fbd-a8bb-35885debb05f, requestedAmount=100000, totalAmount=111161.4070994688, term=12, monthlyPayment=9263.4505916224, rate=0.20, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=598d7efd-163d-4e6d-9a1f-64b2d4c59694, requestedAmount=100000, totalAmount=110015.9914874748, term=12, monthlyPayment=9167.9992906229, rate=0.18, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=1a1118dc-3598-4f19-b8b0-f0d884bf1c6e, requestedAmount=100000, totalAmount=109445.7025168308, term=12, monthlyPayment=9120.4752097359, rate=0.17, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=2e119fd7-cf86-4792-b3d0-3a003bc4fdd2, requestedAmount=100000, totalAmount=108309.9748141884, term=12, monthlyPayment=9025.8312345157, rate=0.15, isInsuranceEnabled=true, isSalaryClient=true)]
2024-08-05 05:05:18 - Завершена генерация List<LoanOfferDto> по запросу: LoanStatementRequestDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, email=myemail123@gmail.com, birthdate=2000-10-10, passportSeries=1234, passportNumber=123456)
2024-08-05 05:05:18 - Начало генерации CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 05:05:18 - Полученный monthlyPayment: 9025.8312345157
2024-08-05 05:05:18 - Полученный psk: 108309.9748141884
2024-08-05 05:05:18 - Полученный List<PaymentScheduleElementDto>: [PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)]
2024-08-05 05:05:18 - Сгенерированный CreditDto: CreditDto(amount=100000, term=12, monthlyPayment=9025.8312345157, rate=0.15, psk=108309.9748141884, isInsuranceEnabled=true, isSalaryClient=true, paymentSchedule=[PaymentScheduleElementDto(number=1, date=2024-09-05, totalPayment=9025.83, interestPayment=1250.00, debtPayment=7775.83, remainingDebt=92224.17), PaymentScheduleElementDto(number=2, date=2024-10-05, totalPayment=9025.83, interestPayment=1152.80, debtPayment=7873.03, remainingDebt=84351.14), PaymentScheduleElementDto(number=3, date=2024-11-05, totalPayment=9025.83, interestPayment=1054.39, debtPayment=7971.44, remainingDebt=76379.70), PaymentScheduleElementDto(number=4, date=2024-12-05, totalPayment=9025.83, interestPayment=954.75, debtPayment=8071.09, remainingDebt=68308.61), PaymentScheduleElementDto(number=5, date=2025-01-05, totalPayment=9025.83, interestPayment=853.86, debtPayment=8171.97, remainingDebt=60136.64), PaymentScheduleElementDto(number=6, date=2025-02-05, totalPayment=9025.83, interestPayment=751.71, debtPayment=8274.12, remainingDebt=51862.52), PaymentScheduleElementDto(number=7, date=2025-03-05, totalPayment=9025.83, interestPayment=648.28, debtPayment=8377.55, remainingDebt=43484.97), PaymentScheduleElementDto(number=8, date=2025-04-05, totalPayment=9025.83, interestPayment=543.56, debtPayment=8482.27, remainingDebt=35002.70), PaymentScheduleElementDto(number=9, date=2025-05-05, totalPayment=9025.83, interestPayment=437.53, debtPayment=8588.30, remainingDebt=26414.40), PaymentScheduleElementDto(number=10, date=2025-06-05, totalPayment=9025.83, interestPayment=330.18, debtPayment=8695.65, remainingDebt=17718.75), PaymentScheduleElementDto(number=11, date=2025-07-05, totalPayment=9025.83, interestPayment=221.48, debtPayment=8804.35, remainingDebt=8914.40), PaymentScheduleElementDto(number=12, date=2025-08-05, totalPayment=9025.83, interestPayment=111.43, debtPayment=8914.40, remainingDebt=0.00)])
2024-08-05 05:05:18 - Завершена генерация CreditDto по запросу: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 05:05:18 - Could not detect default resource locations for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2024-08-05 05:05:18 - Could not detect default configuration classes for test class [com.sosadwaden.calculator.service.ScoringServiceTest]: ScoringServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-08-05 05:05:18 - Found @SpringBootConfiguration com.sosadwaden.calculator.CalculatorApplication for test class com.sosadwaden.calculator.service.ScoringServiceTest
2024-08-05 05:05:18 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2024-08-05 05:05:18 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@71e89a26, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@257708e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@18c26588, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6167a456, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@54eb2bf6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6d01f2e5, org.springframework.test.context.event.EventPublishingTestExecutionListener@66e434e8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3a7d6976, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@37c45154, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@55300b93, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@123426a9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4353db40, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@56887c8f]
2024-08-05 05:05:18 - Starting ScoringServiceTest using Java 17.0.9 on DESKTOP-VUNRAED with PID 13424 (started by Кирилл in F:\Work\neoflex-bank-prototype\calculator)
2024-08-05 05:05:18 - Running with Spring Boot v2.7.18, Spring v5.3.31
2024-08-05 05:05:18 - No active profile set, falling back to 1 default profile: "default"
2024-08-05 05:05:19 - BeanFactory id=1256c52c-f4c8-3d89-9a78-c393631972e5
2024-08-05 05:05:20 - Eureka HTTP Client uses RestTemplate.
2024-08-05 05:05:20 - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-08-05 05:05:20 - Exposing 4 endpoint(s) beneath base path '/actuator'
2024-08-05 05:05:20 - Setting initial instance status as: STARTING
2024-08-05 05:05:20 - Initializing Eureka in region us-east-1
2024-08-05 05:05:20 - Resolving eureka endpoints via configuration
2024-08-05 05:05:20 - Disable delta property : false
2024-08-05 05:05:20 - Single vip registry refresh property : null
2024-08-05 05:05:20 - Force full registry fetch : false
2024-08-05 05:05:20 - Application is null : false
2024-08-05 05:05:20 - Registered Applications size is zero : true
2024-08-05 05:05:20 - Application version is -1: true
2024-08-05 05:05:20 - Getting all instance registry info from the eureka server
2024-08-05 05:05:20 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$7c7082d2.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 134 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 147 more

2024-08-05 05:05:20 - Request execution failed with message: I/O error on GET request for "http://localhost:4410/eureka/apps/": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-05 05:05:20 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$7c7082d2.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:594)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)

2024-08-05 05:05:20 - Initial registry fetch from primary servers failed
2024-08-05 05:05:20 - Using default backup registry implementation which does not do anything.
2024-08-05 05:05:20 - Initial registry fetch from backup servers failed
2024-08-05 05:05:20 - Starting heartbeat executor: renew interval is: 30
2024-08-05 05:05:20 - InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-08-05 05:05:20 - Discovery Client initialized at timestamp 1722823520309 with initial instances count: 0
2024-08-05 05:05:20 - Registering application CALCULATOR with eureka with status UP
2024-08-05 05:05:20 - Saw local status change event StatusChangeEvent [timestamp=1722823520312, current=UP, previous=STARTING]
2024-08-05 05:05:20 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 05:05:20 - Started ScoringServiceTest in 1.655 seconds (JVM running for 7.283)
2024-08-05 05:05:20 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-05 05:05:20 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-05 05:05:20 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-05 05:05:20 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-05 05:05:20 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 05:05:20 - Начало скоринга для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 05:05:20 - Скоринг успешно завершён для запроса: ScoringDataDto(amount=100000, term=12, firstName=Ivan, lastName=Ivanov, middleName=Ivanovich, gender=MALE, birthdate=2000-11-21, passportSeries=1234, passportNumber=123456, passportIssueDate=2014-11-21, passportIssueBranch=Moscow, maritalStatus=MARRIED, dependentAmount=0, employment=EmploymentDto(employmentStatus=EMPLOYED, employerINN=1234567890, salary=60000, employmentPosition=MID_MANAGER, workExperienceTotal=24, workExperienceCurrent=24), accountNumber=1234, isInsuranceEnabled=true, isSalaryClient=true)
2024-08-05 05:05:20 - Результирующая ставка: 0.10
2024-08-05 05:05:21 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 05:05:21 - Saw local status change event StatusChangeEvent [timestamp=1722823521454, current=DOWN, previous=UP]
2024-08-05 05:05:21 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 05:05:21 - Shutting down DiscoveryClient ...
2024-08-05 05:05:21 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-05 05:05:21 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-05 05:05:21 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-05 05:05:21 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-05 05:05:21 - Unregistering ...
2024-08-05 05:05:21 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 39 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 52 more

2024-08-05 05:05:21 - Request execution failed with message: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-05 05:05:21 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-05 05:05:21 - Completed shut down of DiscoveryClient
2024-08-05 05:05:21 - Unregistering application CALCULATOR with eureka with status DOWN
2024-08-05 05:05:21 - Saw local status change event StatusChangeEvent [timestamp=1722823521487, current=DOWN, previous=UP]
2024-08-05 05:05:21 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455: registering service...
2024-08-05 05:05:21 - Shutting down DiscoveryClient ...
2024-08-05 05:05:21 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2024-08-05 05:05:21 - Request execution failed with message: I/O error on POST request for "http://localhost:4410/eureka/apps/CALCULATOR": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-05 05:05:21 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-05 05:05:21 - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-05 05:05:21 - Unregistering ...
2024-08-05 05:05:21 - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:4410/eureka/}, exception=I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 39 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 52 more

2024-08-05 05:05:21 - Request execution failed with message: I/O error on DELETE request for "http://localhost:4410/eureka/apps/CALCULATOR/host.docker.internal:calculator:4455": Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:4410 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2024-08-05 05:05:21 - DiscoveryClient_CALCULATOR/host.docker.internal:calculator:4455 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1120)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1086)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1032)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-08-05 05:05:21 - Completed shut down of DiscoveryClient
